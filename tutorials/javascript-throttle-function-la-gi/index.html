<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="noodp,index,follow">
    <meta name="revisit-after" content="1 days">
    <meta name="google-site-verification" content="ZFrkEu3QMFl9Kz0JyK2SfzdIZ84lDgm9gLQ6J6FmAvg">
    <meta name="p:domain_verify" content="faa7b25edce176988fb8171e9457554a">

    <!-- Facebook Webmasters -->
    <meta property="og:url" content="https://vhnam.github.io/blog/javascript-throttle-function-la-gi">
    <meta property="og:type" content="article">
    <meta property="og:title" content="JavaScript - Throttle Function là gì?">
    <meta property="og:description" content="Lần trước, mình đã viết bài giới thiệu về kỹ thuật dùng hàm Debounce. Nếu bạn có đọc các link trong phần tham khảo, hẵn sẽ thấy có nhắc đến hàm throttle. Hôm nay, mình sẽ giới thiệu về hàm này.">
    <meta property="og:image" content="https://vhnam.github.io/blog/javascript-throttle-function-la-gi/img/thumbnails.jpg">
    <meta property="og:locale" content="vi_VN">
    <meta property="fb:app_id" content="2064203853819553">

    <title>JavaScript - Throttle Function là gì? | Nam Vo</title>

    <link rel="shortcut icon" href="https://vhnam.github.io/public/favicon.ico" type="image/x-icon">
    <link rel="canonical" href="http://vhnam.github.io/">
    <link rel="publisher" href="https://plus.google.com/116570296349523695729">

    <link rel="stylesheet" href="https://vhnam.github.io/public/css/bootstrap.css">
    <link rel="stylesheet" href="https://vhnam.github.io/public/css/post.css">

    <link rel="stylesheet" href="css/style.css">

    <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body itemscope="itemscope" itemtype="https://schema.org/BlogPosting">
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
            <a class="navbar-brand" href="/" itemprop="url">
                <img src="https://vhnam.github.io/public/img/favicon.png" alt="Nam Vo" height="48" width="48">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <header class="navbar-collapse__header">
                    <button class="navbar-toggler float-right" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                        &times;
                    </button>
                    <div class="clear-both"></div>
                </header>
                <ul class="navbar-nav ml-md-auto navbar-collapse__content" itemscope="itemscope" itemtype="https://schema.org/SiteNavigationElement">
                    <li class="nav-item">
                        <a class="nav-link" itemprop="url" href="/">Trang chủ</a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" itemprop="url" href="/blog">Nhật Ký</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" itemprop="url" href="/tutorials">Chuyện Lập Trình</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" itemprop="url" href="/about.html">Giới Thiệu</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" itemprop="url" href="/contact.html">Liên Hệ</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <section class="hero">
        <div class="container">
            <div class="row">
                <div class="col"></div>
                <div class="col-md-8">
                    <h1 class="hero__title" itemprop="headline">JavaScript - Throttle Function là gì?</h1>
                    <h2 class="hero__subtitle">Ngày 5 tháng 11 năm 2015</h2>
                    <meta itemprop="author" content="Nam Vo">
                    <meta itemprop="datePublished" content="2015-11-05">
                    <meta itemprop="dateModified" content="2015-11-05">
                    <meta itemprop="mainEntityOfPage" content="Lần trước, mình đã viết bài giới thiệu về kỹ thuật dùng hàm Debounce. Nếu bạn có đọc các link trong phần tham khảo, hẵn sẽ thấy có nhắc đến hàm throttle. Hôm nay, mình sẽ giới thiệu về hàm này.">
                </div>
                <div class="col"></div>
            </div>
        </div>
        <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
            <meta itemprop="name" content="GitHub">
            <span hidden itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
                <img itemprop="url" src="https://vhnam.github.io/public/img/github.png" alt="GitHub">
                <meta itemprop="width" content="48">
                <meta itemprop="height" content="48">
             </span>
        </div>
    </section>

    <section class="content">
        <div class="container">
            <h2 hidden>Nội dung</h2>
            <div class="row">
                <div class="col"></div>
                <div class="col-md-8">
                    <div class="content__body">
                        <p>
    Lần trước, mình đã viết bài giới thiệu về kỹ thuật dùng hàm <a itemprop="url" href="http://vhnam.github.io/blog/javascript-debounce-function-la-gi/">Debounce</a>. Nếu bạn có đọc các link trong phần tham khảo, hẵn sẽ thấy có nhắc đến hàm <strong>throttle</strong>. Hôm nay, mình sẽ giới thiệu về hàm này.
</p>
<img src="img/pendulum.png" alt="throttle()" itemprop="image">

<h3>Bài toán đặt ra</h3>
<script src="https://gist.github.com/vhnam/c9c49d22580ea27a8ba5.js"></script>
<p>
    Mình xin dùng một ví dụ đơn giản, khi bạn rê chuột trong vùng màu xanh dưới đây, sẽ hiện thị số lần gọi sự kiện <code>hover()</code> được gọi.
</p>

<div id="block-non-throttle" class="block-blue">0</div>

<p>
    Bạn có thấy số lần gọi sự kiện <code>hover()</code> rất lớn không? Giả sử, bạn khi gọi hàm <code>resize()</code> để resize kích thước trình duyệt khi đang sử dụng trên mobile (có một số trường hợp thẻ <code><a itemprop="url" href="http://www.w3.org/TR/css3-mediaqueries/">@media</a></code> trong CSS3 không khả thi). Bạn nên nhớ rằng, để render giao diện thì cần trải qua 2 bước là xây dựng thông số và xử lý. Nếu bạn gọi hàm <code>resize()</code> với số lần như bạn đã làm ở ví dụ trên. Tự hỏi điện thoại nào chịu cho nổi?
</p>
<p>
    Lúc này, bạn nên sử dụng hàm <code>throttle()</code> để giải quyết vấn đề này.
</p>

<h3>Throttle Function</h3>
<p>
    Cách sử dụng hàm <code>throttle()</code> cũng tương tự như hàm <code>debounce()</code> gồm có 2 tham số là hàm cần thực thi và thời gian delay. Và hàm này cũng cần trả về một hàm.
</p>
<script src="https://gist.github.com/vhnam/18fffc9976ed9587ada4.js"></script>

<p>
    Nếu hàm này không có đang chờ đợi gì thì cho nó chạy.
</p>
<script src="https://gist.github.com/vhnam/b960eb6920a083a4c32c.js"></script>

<p>
    Hình như có gì đó không ổn. Nó chỉ chạy được có mỗi một lần đầu thì phải? Ta phải chờ trong một khoảng thời gian <strong>time</strong> thôi. Chờ xong, nó sẽ thực thi tiếp. Ta phải sửa lại.
</p>
<script src="https://gist.github.com/vhnam/caa6cf5a6b12544a60cd.js"></script>

<p>
    Bây giờ, bạn thử rê chuột trong vùng màu xanh dưới đây. Phần xử lý đã sử dụng hàm <code>throttle()</code>.
</p>
<div id="block-throttle" class="block-blue">0</div>

<h3>Lời kết</h3>
<p>
    Để hiểu rõ về hàm này hơn, bạn có thể đọc mã nguồn của <a itemprop="url" href="http://underscorejs.org/#debounce">Underscore.js</a>, <a itemprop="url" href="https://lodash.com/docs#debounce">Lodash</a>. Bạn có thể tham khảo bài viết <a itemprop="url" href="http://drupalmotion.com/article/debounce-and-throttle-visual-explanation">Debounce and Throttle: a visual explanation</a> để hiểu rõ hơn. Vì họ có so sánh rõ ràng chức năng của hàm <code>debounce</code> và <code>throttle()</code>.
</p>

<h3>Tham khảo</h3>
<ul class="reference">
    <li>
        <a itemprop="url" href="http://sampsonblog.com/749/simple-throttle-function">Simple Throttle Function</a>
    </li>
    <li>
        <a itemprop="url" href="https://remysharp.com/2010/07/21/throttling-function-calls">Throttling function calls</a>
    </li>
    <li>
        <a itemprop="url" href="http://drupalmotion.com/article/debounce-and-throttle-visual-explanation">Debounce and Throttle: a visual explanation</a>
    </li>
</ul>

                    </div>

                    <div class="content__footer">
                        <div class="social-plugin">
                            <div class="like-share">
                                <!-- Facebook -->
                                <div class="fb-like" data-href="http://vhnam.github.io/blog/not-quite-my-tempo" data-layout="standard" data-action="like" data-show-faces="true" data-share="true"></div>
    
                                <div>
                                    <!-- Twitter -->
                                    <a href="https://twitter.com/share" class="twitter-share-button"{count} data-url="http://vhnam.github.io/blog/not-quite-my-tempo" data-via="vhnam2504">Tweet</a>
    
                                    <!-- Google Plus -->
                                    <div class="g-plusone" data-annotation="inline" data-width="300"></div>
                                </div>
                            </div>
                            <div class="comments">
                                <div class="fb-comments" data-href="http://vhnam.github.io/blog/not-quite-my-tempo" data-numposts="10"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col"></div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6 text-left">
                    He who loves practice without theory is like the sailor who boards [a] ship without a rudder and compass and never knows where he may cast. — Leonardo da Vinci
                </div>
                <div class="col-md-6 text-right">
                    Copyright &copy; 2018 Nam Vo
                </div>
            </div>
        </div>
        <nav class="privacy-policy navbar navbar-dark bg-dark" itemscope="itemscope" itemtype="https://schema.org/SiteNavigationElement">
            <div class="container">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" itemprop="url" href="https://vhnam.github.io/privacy-policy.html">Chính sách bảo mật</a>
                    </li>
                </ul>
            </div>
        </nav>
    </footer>

    <script src="https://vhnam.github.io/public/js/bootstrap.js"></script>
    <script src="js/script.js"></script>

    <script>
        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>

    <script>
        (function() {
            var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
            po.src = 'https://apis.google.com/js/platform.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
    </script>

    <script>
        !function(d,s,id){
            var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';
            if(!d.getElementById(id)){js=d.createElement(s);
                js.id=id;js.src=p+'://platform.twitter.com/widgets.js';
                fjs.parentNode.insertBefore(js,fjs);
            }
        }(document, 'script', 'twitter-wjs');
    </script>

    <!-- Facebook Analytics -->
    <script>
        window.fbAsyncInit = function() {
            FB.init({
                appId      : '2064203853819553',
                xfbml      : true,
                version    : 'v3.0'
            });
            
            FB.AppEvents.logPageView();   
        };

        (function(d, s, id){
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) {return;}
            js = d.createElement(s); js.id = id;
            js.src = "https://connect.facebook.net/en_US/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>

    <!-- Google Analytics -->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-66016963-1', 'auto');
        ga('require', 'linkid', 'linkid.js');
        ga('require', 'displayfeatures');
        ga('send', 'pageview');
    </script>
</body>
</html>
