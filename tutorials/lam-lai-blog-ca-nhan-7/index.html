<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="noodp,index,follow">
    <meta name="revisit-after" content="1 days">
    <meta name="google-site-verification" content="ZFrkEu3QMFl9Kz0JyK2SfzdIZ84lDgm9gLQ6J6FmAvg">
    <meta name="p:domain_verify" content="faa7b25edce176988fb8171e9457554a">

    <!-- Facebook Webmasters -->
    <meta property="og:url" content="https://vhnam.github.io/blog/lam-lai-blog-ca-nhan-7">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Làm lại blog cá nhân (Phần 7): Template Engine">
    <meta property="og:description" content="Phần này tớ chia sẻ với các bạn cách viết một bài mới với và publish với Template Engine tự viết">
    <meta property="og:image" content="https://vhnam.github.io/blog/lam-lai-blog-ca-nhan-7/img/thumbnails.jpg">
    <meta property="og:locale" content="vi_VN">
    <meta property="fb:app_id" content="2064203853819553">

    <title>Làm lại blog cá nhân (Phần 7): Template Engine | Nam Vo</title>

    <link rel="shortcut icon" href="https://vhnam.github.io/public/favicon.ico" type="image/x-icon">
    <link rel="canonical" href="http://vhnam.github.io/">
    <link rel="publisher" href="https://plus.google.com/116570296349523695729">

    <link rel="stylesheet" href="https://vhnam.github.io/public/css/bootstrap.css">
    <link rel="stylesheet" href="https://vhnam.github.io/public/css/post.css">

    <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body itemscope="itemscope" itemtype="https://schema.org/BlogPosting">
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
            <a class="navbar-brand" href="/" itemprop="url">
                <img src="https://vhnam.github.io/public/img/favicon.png" alt="Nam Vo" height="48" width="48">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <header class="navbar-collapse__header">
                    <button class="navbar-toggler float-right" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                        &times;
                    </button>
                    <div class="clear-both"></div>
                </header>
                <ul class="navbar-nav ml-md-auto navbar-collapse__content" itemscope="itemscope" itemtype="https://schema.org/SiteNavigationElement">
                    <li class="nav-item">
                        <a class="nav-link" itemprop="url" href="/">Trang chủ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" itemprop="url" href="/blog">Nhật Ký</a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" itemprop="url" href="/tutorials">Chuyện Lập Trình</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" itemprop="url" href="/about.html">Giới Thiệu</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" itemprop="url" href="/contact.html">Liên Hệ</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <section class="hero">
        <div class="container">
            <div class="row">
                <div class="col"></div>
                <div class="col-md-8">
                    <h1 class="hero__title" itemprop="headline">Làm lại blog cá nhân (Phần 7): Template Engine</h1>
                    <h2 class="hero__subtitle">Ngày 31 tháng 7 năm 2018</h2>
                    <meta itemprop="author" content="Nam Vo">
                    <meta itemprop="datePublished" content="2018-07-31">
                    <meta itemprop="dateModified" content="2018-07-31">
                    <meta itemprop="mainEntityOfPage" content="Phần này tớ chia sẻ với các bạn cách viết một bài mới với và publish với Template Engine tự viết">
                </div>
                <div class="col"></div>
            </div>
        </div>
        <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
            <meta itemprop="name" content="GitHub">
            <span hidden itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
                <img itemprop="url" src="https://vhnam.github.io/public/img/github.png" alt="GitHub">
                <meta itemprop="width" content="48">
                <meta itemprop="height" content="48">
             </span>
        </div>
    </section>

    <section class="content">
        <div class="container">
            <h2 hidden>Nội dung</h2>
            <div class="row">
                <div class="col"></div>
                <div class="col-md-8">
                    <div class="content__body">
                        <p>
    Phần này sẽ nói về cách tớ viết một bài mới như thế nào.
</p>
<img src="img/thumbnails.jpg" alt="Thumbnails" itemprop="image">

<h3>Cách truyền thống</h3>
<p>
    Tớ viết bài trực tiếp bằng mã nguồn HTML luôn, không sử dụng bất cứ công cụ soạn thảo nào để sinh ra code cả. Bạn không tin thì có thể vào link <a itemprop="url" href="https://github.com/vhnam/vhnam.github.io/commit/3deac8547dfb264e8a1e9fe468f8e17dd9c20bd2">này</a> để xem.
</p>
<img src="img/old-method.jpg" alt="Old method" itemprop="image">
<p>
    Lúc đó có khá nhiều thứ phải làm thủ công cấu hình như <code>&lt;metadata&gt;</code>, thời gian và viết bài. Lúc đó tớ nghĩ static web nên hổng có công cụ phát sinh code tự động. Hic, nghĩ lại thấy đúng là gà thiệt.
</p>
<p>
    Thực ra là nào giờ, GitHub Pages có dùng công cụ tên là <a itemprop="url" href="https://jekyllrb.com">Jekyll</a> được viết bằng Ruby để tạo ra một trang web tĩnh. Thời điểm tạo blog là còn đi học nên cũng ngại học cái mới (do chạy đồ án hơi nhiều). Sau này, khi blog lên version 2.0 tức là bản xài template cũ màu xanh dương (bạn xem lại <a itemprop="url" href="https://vhnam.github.io/tutorials/lam-lai-blog-ca-nhan-1/">phần 1</a>) thì vẫn còn thích tự viết code.
</p>

<h3>Đổi mới suy nghĩ</h3>
<p>
    Sau này đi làm công ty, sếp thích xài Python để xử lý công việc và cũng nhớ lại ông anh hồi xưa nói Python mạnh về xử lý văn bản nên nảy sinh ý tưởng viết template engine. <strong>Template Engine</strong> cũng chả có gì to tát cả, hiểu đơn giản là có một template, điền vào chỗ trống theo cấu trúc đã được khai báo sẵn, cách sử dụng giống như bạn dùng <a itemprop="url" href="https://laravel.com/docs/5.6/blade">Blade</a>, <a itemprop="url" href="https://github.com/pugjs/pug">Pug</a>, <a itemprop="url" href="https://github.com/ericf/express-handlebars">Handlebar</a>. Tư tưởng được thể hiện như hình dưới đây.
</p>
<img src="img/template-layout.jpg" alt="Template Layout" itemprop="image">

<h3>Cơ chế hoạt động</h3>
<p>
    Sơ đồ hoạt động được tóm gọn trong Activity Diagram dưới đây.
</p>
<img src="img/template-engine__activity-diagram.jpg" alt="Template Engine - Activity Diagram" itemprop="image">
<p>
    Bạn xem qua mã nguồn file template của tớ. Có những chỗ đặt trong cặp ngoặc nhọn <code>{{ }}</code> chính là nơi sẽ điền nội dung. Mỗi bài viết của tớ đều có 1 file <code>config.json</code> để lưu thông tin như tiêu đề, mô tả và file <code>index.html</code> sẽ lưu nội dung bài viết rồi đổ vào file template. Đơn giản chứ nè. Cuối cùng thì gõ lệnh để build ra file hoàn chỉnh. Tớ có quay video lại để mọi người theo dõi.
</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/jsZausGjuws" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

<h3>Tính mở rộng</h3>
<blockquote>
    Your talent is limited by your imagination
    <footer>
        - Unknown
    </footer>
</blockquote>
<p>
    Để mở rộng template engine này, tớ dự định sẽ học hỏi Jekyll ở chỗ tạo một web application tại localhost, có Text Editor để soạn thảo văn bản trực tiếp trên web, không cần phải mở Visual Studio Code hay Sublime Text gì cả. Khi viết xong, điền phần mô tả, nhấn nút <strong>Publish</strong> sẽ tự động phát sinh file HTML theo đường dẫn đã cấu hình trước.
</p>

                    </div>

                    <div class="content__footer">
                        <div class="social-plugin">
                            <div class="like-share">
                                <!-- Facebook -->
                                <div class="fb-like" data-href="http://vhnam.github.io/blog/not-quite-my-tempo" data-layout="standard" data-action="like" data-show-faces="true" data-share="true"></div>
    
                                <div>
                                    <!-- Twitter -->
                                    <a href="https://twitter.com/share" class="twitter-share-button"{count} data-url="http://vhnam.github.io/blog/not-quite-my-tempo" data-via="vhnam2504">Tweet</a>
    
                                    <!-- Google Plus -->
                                    <div class="g-plusone" data-annotation="inline" data-width="300"></div>
                                </div>
                            </div>
                            <div class="comments">
                                <div class="fb-comments" data-href="http://vhnam.github.io/blog/not-quite-my-tempo" data-numposts="10"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col"></div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6 text-left">
                    He who loves practice without theory is like the sailor who boards [a] ship without a rudder and compass and never knows where he may cast. — Leonardo da Vinci
                </div>
                <div class="col-md-6 text-right">
                    Copyright &copy; 2018 Nam Vo
                </div>
            </div>
        </div>
        <nav class="privacy-policy navbar navbar-dark bg-dark" itemscope="itemscope" itemtype="https://schema.org/SiteNavigationElement">
            <div class="container">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" itemprop="url" href="https://vhnam.github.io/privacy-policy.html">Chính sách bảo mật</a>
                    </li>
                </ul>
            </div>
        </nav>
    </footer>

    <script src="https://vhnam.github.io/public/js/bootstrap.js"></script>

    <script>
        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>

    <script>
        (function() {
            var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
            po.src = 'https://apis.google.com/js/platform.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
    </script>

    <script>
        !function(d,s,id){
            var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';
            if(!d.getElementById(id)){js=d.createElement(s);
                js.id=id;js.src=p+'://platform.twitter.com/widgets.js';
                fjs.parentNode.insertBefore(js,fjs);
            }
        }(document, 'script', 'twitter-wjs');
    </script>

    <!-- Facebook Analytics -->
    <script>
        window.fbAsyncInit = function() {
            FB.init({
                appId      : '2064203853819553',
                xfbml      : true,
                version    : 'v3.0'
            });
            
            FB.AppEvents.logPageView();   
        };

        (function(d, s, id){
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) {return;}
            js = d.createElement(s); js.id = id;
            js.src = "https://connect.facebook.net/en_US/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>

    <!-- Google Analytics -->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-66016963-1', 'auto');
        ga('require', 'linkid', 'linkid.js');
        ga('require', 'displayfeatures');
        ga('send', 'pageview');
    </script>
</body>
</html>
