<!DOCTYPE html><html lang="vi"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"        /><meta http-equiv="X-UA-Compatible" content="ie=edge" /><meta name="robots" content="noodp,index,follow" /><meta name="revisit-after" content="1 days" /><meta name="google-site-verification" content="ZFrkEu3QMFl9Kz0JyK2SfzdIZ84lDgm9gLQ6J6FmAvg"        /><meta name="p:domain_verify" content="faa7b25edce176988fb8171e9457554a"        /><meta property="og:url" content="https://vhnam.github.io/tutorials/lam-lai-blog-ca-nhan-7"        /><meta property="og:type" content="article" /><meta property="og:title" content="Làm lại blog cá nhân (Phần 7): Template Engine" /><meta property="og:description" content="Phần này tớ chia sẻ với các bạn cách viết một bài mới với và publish với Template Engine tự viết" /><meta property="og:image" content="https://vhnam.github.io/src/assets/img/favicon.png"        /><meta property="og:locale" content="vi_VN" /><meta property="fb:app_id" content="2064203853819553" /><title>Làm lại blog cá nhân (Phần 7): Template Engine | Nam Vo</title><link rel="shortcut icon" href="/src/assets/favicon.ico" type="image/x-icon"        /><link rel="canonical" href="http://vhnam.github.io/" /><link rel="preconnect" href="https://fonts.googleapis.com/"            crossorigin        /><link rel="preload" href="/src/assets/css/bootstrap.css" as="style" /><link rel="preload" href="/src/assets/css/theme.css" as="style" /><link rel="preload" href="/src/assets/css/pages/post.css" as="style" /><link rel="stylesheet" href="/src/assets/css/bootstrap.css" /><link rel="stylesheet" href="/src/assets/css/theme.css" /><link rel="stylesheet" href="/src/assets/css/pages/post.css" /><!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--></head><body itemscope="itemscope" itemtype="https://schema.org/BlogPosting"><nav class="navbar navbar-expand-lg navbar-light sticky-top bg-light shadow"><div class="container"><a class="navbar-brand logo" href="/">Nam Vo</a><button class="navbar-toggler" type="button"                    data-toggle="collapse"                    data-target="#navbarNavDropdown"                    aria-controls="navbarNavDropdown"                    aria-expanded="false"                    aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavDropdown"><ul class="navbar-nav ml-auto"><li class="nav-item"><a class="nav-link" id="blog" href="/blog">Nhật ký</a                            ></li><li class="nav-item"><a class="nav-link" id="tutorials" href="/tutorials">Chuyện ngành</a                            ></li><li class="nav-item"><a class="nav-link" id="portfolio" href="#">Portfolio</a                            ></li><li class="nav-item"><a class="nav-link" id="about" href="/about.html">Thông tin</a                            ></li><li class="nav-item"><a class="nav-link" id="contact" href="/contact.html">Liên lạc</a                            ></li></ul></div></div></nav><section class="content"><div class="container"><div class="row"><div class="col-lg-8"><div class="content__heading"><h1 class="content__title" itemprop="headline">                                Làm lại blog cá nhân (Phần 7): Template Engine                            </h1><p class="content__time">Ngày 1 tháng 8 năm 2018</p><meta itemprop="author" content="Nam Vo" /><meta itemprop="datePublished" content="2018-08-01"                            /><meta itemprop="dateModified" content="2018-08-01"                            /><meta itemprop="mainEntityOfPage" content="Phần này tớ chia sẻ với các bạn cách viết một bài mới với và publish với Template Engine tự viết"                            /></div><p>    Phần này sẽ nói về cách tớ viết một bài mới như thế nào.</p><ul><li><a href="https://vhnam.github.io/tutorials/lam-lai-blog-ca-nhan-1/" itemprop="url">Phần 1: Khởi động</a></li><li><a href="https://vhnam.github.io/tutorials/lam-lai-blog-ca-nhan-2/" itemprop="url">Phần 2: Thiết kế giao diện</a></li><li><a href="https://vhnam.github.io/tutorials/lam-lai-blog-ca-nhan-3/" itemprop="url">Phần 3: Quản lý cấu hình</a></li><li><a href="https://vhnam.github.io/tutorials/lam-lai-blog-ca-nhan-4/" itemprop="url">Phần 4: Bắt đầu với giao diện</a></li><li><a href="https://vhnam.github.io/tutorials/lam-lai-blog-ca-nhan-5/" itemprop="url">Phần 5: Schema.org du hý</a></li><li><a href="https://vhnam.github.io/tutorials/lam-lai-blog-ca-nhan-6/" itemprop="url">Phần 6: Metadata và các công cụ theo dõi hoạt động người dùng</a></li><li>        Phần 7: Template Engine    </li><li><a href="https://vhnam.github.io/tutorials/lam-lai-blog-ca-nhan-8/" itemprop="url">Phần 8: Deployment</a></li></ul><img alt="Thumbnails" itemprop="image" src="img/thumbnails.jpg"/><span class="heading" id="cch-truyn-thng"></span><h2>Cách truyền thống</h2><p>    Tớ viết bài trực tiếp bằng mã nguồn HTML luôn, không sử dụng bất cứ công cụ soạn thảo nào để sinh ra code cả. Bạn không tin thì có thể vào link <a href="https://github.com/vhnam/vhnam.github.io/commit/3deac8547dfb264e8a1e9fe468f8e17dd9c20bd2" itemprop="url">này</a> để xem.</p><img alt="Old method" itemprop="image" src="img/old-method.jpg"/><p>    Lúc đó có khá nhiều thứ phải làm thủ công cấu hình như <code>&lt;metadata&gt;</code>, thời gian và viết bài. Lúc đó tớ nghĩ static web nên hổng có công cụ phát sinh code tự động. Hic, nghĩ lại thấy đúng là gà thiệt.</p><p>    Thực ra là nào giờ, GitHub Pages có dùng công cụ tên là <a href="https://jekyllrb.com" itemprop="url">Jekyll</a> được viết bằng Ruby để tạo ra một trang web tĩnh. Thời điểm tạo blog là còn đi học nên cũng ngại học cái mới (do chạy đồ án hơi nhiều). Sau này, khi blog lên version 2.0 tức là bản xài template cũ màu xanh dương (bạn xem lại <a href="https://vhnam.github.io/tutorials/lam-lai-blog-ca-nhan-1/" itemprop="url">phần 1</a>) thì vẫn còn thích tự viết code.</p><span class="heading" id="i-mi-suy-ngh"></span><h2>Đổi mới suy nghĩ</h2><p>    Sau này đi làm công ty, sếp thích xài Python để xử lý công việc và cũng nhớ lại ông anh hồi xưa nói Python mạnh về xử lý văn bản nên nảy sinh ý tưởng viết template engine. <strong>Template Engine</strong> cũng chả có gì to tát cả, hiểu đơn giản là có một template, điền vào chỗ trống theo cấu trúc đã được khai báo sẵn, cách sử dụng giống như bạn dùng <a href="https://laravel.com/docs/5.6/blade" itemprop="url">Blade</a>, <a href="https://github.com/pugjs/pug" itemprop="url">Pug</a>, <a href="https://github.com/ericf/express-handlebars" itemprop="url">Handlebar</a>. Tư tưởng được thể hiện như hình dưới đây.</p><img alt="Template Layout" itemprop="image" src="img/template-layout.jpg"/><span class="heading" id="c-ch-hot-ng"></span><h2>Cơ chế hoạt động</h2><p>    Sơ đồ hoạt động được tóm gọn trong Activity Diagram dưới đây.</p><img alt="Template Engine - Activity Diagram" itemprop="image" src="img/template-engine__activity-diagram.jpg"/><p>    Bạn xem qua mã nguồn file template của tớ. Có những chỗ đặt trong cặp ngoặc nhọn <code>{{ }}</code> chính là nơi sẽ điền nội dung. Mỗi bài viết của tớ đều có 1 file <code>config.json</code> để lưu thông tin như tiêu đề, mô tả và file <code>index.html</code> sẽ lưu nội dung bài viết rồi đổ vào file template. Đơn giản chứ nè. Cuối cùng thì gõ lệnh để build ra file hoàn chỉnh. Tớ có quay video lại để mọi người theo dõi.</p><iframe allow="autoplay; encrypted-media" allowfullscreen="" frameborder="0" height="315" src="https://www.youtube.com/embed/jsZausGjuws" width="560"></iframe><span class="heading" id="tnh-m-rng"></span><h2>Tính mở rộng</h2><blockquote>    Your talent is limited by your imagination    <footer>        - Unknown    </footer></blockquote><p>    Để mở rộng template engine này, tớ dự định sẽ học hỏi Jekyll ở chỗ tạo một web application tại localhost, có Text Editor để soạn thảo văn bản trực tiếp trên web, không cần phải mở Visual Studio Code hay Sublime Text gì cả. Khi viết xong, điền phần mô tả, nhấn nút <strong>Publish</strong> sẽ tự động phát sinh file HTML theo đường dẫn đã cấu hình trước.</p></div><div class="col-lg-4 pl-5"><ul class="content__index index" id="index"><ul><li><a id="prefix-cch-truyn-thng" href="#cch-truyn-thng" class="index__item index--highlight">Cách truyền thống</a></li><li><a id="prefix-i-mi-suy-ngh" href="#i-mi-suy-ngh" class="index__item">Đổi mới suy nghĩ</a></li><li><a id="prefix-c-ch-hot-ng" href="#c-ch-hot-ng" class="index__item">Cơ chế hoạt động</a></li><li><a id="prefix-tnh-m-rng" href="#tnh-m-rng" class="index__item">Tính mở rộng</a></li></ul></ul></div></div><div class="content__footer"><div class="social-plugin"><div class="like-share"><div class="fb-like"                                data-href="http://vhnam.github.io/tutorials/lam-lai-blog-ca-nhan-7"                                data-layout="standard"                                data-action="like"                                data-show-faces="true"                                data-share="true"></div><div class="mt-3"><a href="https://twitter.com/share" class="twitter-share-button"                                    {count}                                    data-url="http://vhnam.github.io/tutorials/lam-lai-blog-ca-nhan-7"                                    data-via="vhnam2504">Tweet</a                                ></div></div><div class="comments"><div class="fb-comments"                                data-href="http://vhnam.github.io/tutorials/lam-lai-blog-ca-nhan-7"                                data-numposts="10"></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="d-flex justify-content-center align-items-center text-white py-3">                    &copy; <span class="mx-1" id="footer-year"></span> Nam Vo's                    blog                </div></div></footer><script src="/src/assets/js/dist/bundle.js"></script><script src="/src/assets/js/post.js"></script><script>            (function (d,s,id) {var js,                    fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)) return;js=d.createElement(s);js.id=id;js.src =                    "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";fjs.parentNode.insertBefore(js,fjs);})(document, "script", "facebook-jssdk");</script><script>            !(function (d,s,id) {var js,                    fjs=d.getElementsByTagName(s)[0],                    p = /^http:/.test(d.location) ? "http" : "https";if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p + "://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}})(document, "script", "twitter-wjs");</script><script>            window.fbAsyncInit=function(){FB.init({appId: "2064203853819553",                    xfbml: true,                    version: "v3.0",});FB.AppEvents.logPageView();};(function (d,s,id) {var js,                    fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}                js=d.createElement(s);js.id=id;js.src = "https://connect.facebook.net/en_US/sdk.js";fjs.parentNode.insertBefore(js,fjs);})(document, "script", "facebook-jssdk");</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-66016963-1"></script><script>            window.dataLayer=window.dataLayer || [];function gtag(){dataLayer.push(arguments);}            gtag("js", new Date());gtag("config", "UA-66016963-1");</script></body></html>