<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="noodp,index,follow">
    <meta name="revisit-after" content="1 days">
    <meta name="google-site-verification" content="ZFrkEu3QMFl9Kz0JyK2SfzdIZ84lDgm9gLQ6J6FmAvg">
    <meta name="p:domain_verify" content="faa7b25edce176988fb8171e9457554a">

    <!-- Facebook Webmasters -->
    <meta property="og:url" content="https://vhnam.github.io/tutorials/to-da-an-hanh-voi-redux-nhu-the-nao">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Tớ đã ăn hành với Redux như thế nào?">
    <meta property="og:description" content="Chia sẻ cách tiếp cận Redux cho người mới bắt đầu">
    <meta property="og:image" content="https://vhnam.github.io/tutorials/to-da-an-hanh-voi-redux-nhu-the-nao/img/thumbnails.jpg">
    <meta property="og:locale" content="vi_VN">
    <meta property="fb:app_id" content="2064203853819553">

    <title>Tớ đã ăn hành với Redux như thế nào? | Nam Vo</title>

    <link rel="shortcut icon" href="https://vhnam.github.io/public/favicon.ico" type="image/x-icon">
    <link rel="canonical" href="http://vhnam.github.io/">
    <link rel="publisher" href="https://plus.google.com/116570296349523695729">

    <link rel="stylesheet" href="https://vhnam.github.io/public/css/bootstrap.css">
    <link rel="stylesheet" href="https://vhnam.github.io/public/css/post.css">

    <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body itemscope="itemscope" itemtype="https://schema.org/BlogPosting">
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
            <a class="navbar-brand" href="/" itemprop="url">
                <img src="https://vhnam.github.io/public/img/favicon.png" alt="Nam Vo" height="48" width="48">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <header class="navbar-collapse__header">
                    <button class="navbar-toggler float-right" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                        &times;
                    </button>
                    <div class="clear-both"></div>
                </header>
                <ul class="navbar-nav ml-md-auto navbar-collapse__content" itemscope="itemscope" itemtype="https://schema.org/SiteNavigationElement">
                    <li class="nav-item">
                        <a class="nav-link" itemprop="url" href="/">Trang chủ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" itemprop="url" href="/blog">Nhật Ký</a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" itemprop="url" href="/tutorials">Chuyện Lập Trình</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" itemprop="url" href="/about.html">Giới Thiệu</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" itemprop="url" href="/contact.html">Liên Hệ</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <section class="hero">
        <div class="container">
            <div class="row">
                <div class="col"></div>
                <div class="col-md-8">
                    <h1 class="hero__title" itemprop="headline">Tớ đã ăn hành với Redux như thế nào?</h1>
                    <h2 class="hero__subtitle">Ngày 7 tháng 9 năm 2018</h2>
                    <meta itemprop="author" content="Nam Vo">
                    <meta itemprop="datePublished" content="2018-09-07">
                    <meta itemprop="dateModified" content="2018-09-07">
                    <meta itemprop="mainEntityOfPage" content="Chia sẻ cách tiếp cận Redux cho người mới bắt đầu">
                </div>
                <div class="col"></div>
            </div>
        </div>
        <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
            <meta itemprop="name" content="GitHub">
            <span hidden itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
                <img itemprop="url" src="https://vhnam.github.io/public/img/github.png" alt="GitHub">
                <meta itemprop="width" content="48">
                <meta itemprop="height" content="48">
             </span>
        </div>
    </section>

    <section class="content">
        <div class="container">
            <h2 hidden>Nội dung</h2>
            <div class="row">
                <div class="col"></div>
                <div class="col-md-8">
                    <div class="content__body">
                        <p>
    Để chuẩn bị cho công cuộc phỏng vấn vì miếng ăn, tớ phải tranh thủ tìm hiểu React và các công nghệ liên quan, trong đó có Redux. Đường cách mạng còn lắm gian truân, đọc document của nó éo hiểu gì hết. Hôm nay chia sẻ với mọi người cách tiếp cận Redux.
</p>
<img src="img/thumbnails.jpg" alt="thumbnails" itemprop="image">

<h2>Đặt vấn đề</h2>
<p>
    Khi lập trình React, điều đầu tiên bực bội nhất là việc quản lý State. Như hình phía trên, để truyền dữ liệu giữa các component khá là lằng nhằng do chỉ truyền được cho component kề nhau. Do đó, cần có một cơ chế để quản lý state riêng biệt.
</p>

<h2>Giải pháp</h2>
<p>
    Ok, dễ nhất thì ta cứ xem state như biến toàn cục, khi cần thì viết Get/Set bình thường. Tớ có nghĩ đến <code>localStorage</code>. Tuy nhiên cách này khá bưởi, bạn có thể xem thêm tại đây.<br><a itemprop="url" href="https://dev.to/rdegges/please-stop-using-local-storage-1i04">Please Stop Using Local Storage</a>
</p>
<p>
    Thử cách khác, ta hỏi chị Google. Kết quả là ta được 2 giải pháp đó là <a itemprop="url" href="https://facebook.github.io/flux/">Flux</a> và <a itemprop="url" href="https://redux.js.org/">Redux</a>. Về phần Flux, ta có thể xem bài tutorial sau đây là hình dung được tư tưởng. Còn Redux, nó khá là hại não.<br>
    Xem bài <a itemprop="url" href="https://kipalog.com/posts/Huong-dan-va-giai-thich-Flux-bang-hinh-ve">Hướng dẫn và giải thích Flux bằng hình vẽ</a>
</p>

<h2>Redux</h2>
<p>
    Giờ mới là phần chính. Ta thử vào xem trang chủ của Redux tại <a itemprop="url" href="https://redux.js.org">https://redux.js.org</a> xem có hiểu gì không nhé. Chắc cú là không dành cho beginner rồi. Tớ phải xem bài viết <a itemprop="url" href="https://www.valentinog.com/blog/react-redux-tutorial-beginners/">React Redux Tutorial for Beginners: The Definitive Guide (2018)</a> mới hình dung được Redux như thế nào.
</p>
<p>
    Về cơ bản, Redux là một thư viện quản lý state, nó độc lập với React. Do đó, Redux có thể sử dụng chung với các thư viện khác vẫn được.
</p>
<p>
    Các thành phần cơ bản của Redux bao gồm:
</p>
<ul>
    <li>
        <strong>Store</strong> - Nơi lưu trữ state
    </li>
    <li>
        <strong>Actions</strong> - Các hành động truyền dữ liệu được gởi từ ứng dụng đến Store
    </li>
    <li>
        <strong>Reducer</strong> - Xác định cách thay đổi State
    </li>
</ul>
<img src="img/redux-flow.png" alt="Redux flow" itemprop="image">

<h2>Ăn hành</h2>
<p>
    Bây giờ tớ sẽ minh hoạ cho các bạn hiểu cách chạy bình thường của Redux nhé. Lúc này, ta chỉ đụng mỗi Redux thôi.
</p>
<img src="img/init.png" alt="Initial" itemprop="image">
<p>
    Đầu tiên, Reducer sẽ khởi tạo State và cách xác định thay đổi State. Sau đó, khởi tạo Store bằng Reducer đã khởi tạo trước đó. Lúc này, ta khai báo tiếp hành động.
</p>
<script src="https://gist.github.com/vhnam/b56f6661bc95057961a233f5b38dd2b4.js"></script>
<script src="https://gist.github.com/vhnam/b695f7082778fe63fb6a4f9f7074c939.js"></script>
<script src="https://gist.github.com/vhnam/b29b7c49d20c44a28f4287a8c9841dd5.js"></script>
<p>
    Quá trình khởi tạo đã hoàn tất, ta khởi tạo tiếp một chút để bắt đầu test.
</p>
<script src="https://gist.github.com/vhnam/3905ccb9f99e5fd97f9785ede7d5fb4a.js"></script>
<p>
    Bây giờ, bạn thử chạy đoạn code dưới đây ở Developer Tool.
</p>
<script src="https://gist.github.com/vhnam/69c90b4df305f2fcf7406066a6e43e0b.js"></script>
<img src="img/run.png" alt="Running Redux" itemprop="image">
<p>
    Như bạn đã thấy, phía Store sẽ dispatch thằng ku Actions là State được thay đổi rồi. Như thế, ta có thể cho State tách biệt khỏi mớ Components. 
</p>

<h2>Ăn hành cùng với React</h2>
<p>
    Ban đầu tớ nghĩ chúng ta có thể import Store vào nơi cần gọi là được. Nhưng giang hồ dùng chiêu thức khác, họ mapping State của Components với State của Store. Thặc vi diệu!!!
</p>
<p>
    Để triển được chiêu thức đó, ta cần cài thêm package <code>react-redux</code>. Ghi nhớ khẩu quyết của chiêu thức này.
</p>
<ul>
    <li>
        <strong>mapStateToProps</strong> - dùng để map State của Component với State trong Store của Redux
    </li>
    <li>
        <strong>mapDispatchToProps</strong> - dùng để map method của Component với lời gọi action từ Store tới Actions của Redux
    </li>
</ul>
<p>
    Sau đây là cách sử dụng.
</p>
<script src="https://gist.github.com/vhnam/0abecd5aedb2e050f836805e93a8e609.js"></script>
<script src="https://gist.github.com/vhnam/b7567ba6bc8e557c5b5a1651e9de51f2.js"></script>

<h2>Chốt hạ</h2>
<p>
    Hy vọng với cách trình bày của mình, các bạn hình dung được tư tưởng của Redux, cách dùng Redux với React như thế nào.
</p>

<h2>Tham khảo</h2>
<ul class="reference">
    <li>
        Kipalog, <a itemprop="url" href="https://kipalog.com/posts/Huong-dan-va-giai-thich-Flux-bang-hinh-ve">Hướng dẫn và giải thích Flux bằng hình vẽ</a>
    </li>
    <li>
        Valentinog, <a itemprop="url" href="https://www.valentinog.com/blog/react-redux-tutorial-beginners/">React Redux Tutorial for Beginners: The Definitive Guide (2018)</a>
    </li>
</ul>

                    </div>

                    <div class="content__footer">
                        <div class="social-plugin">
                            <div class="like-share">
                                <!-- Facebook -->
                                <div class="fb-like" data-href="http://vhnam.github.io/blog/not-quite-my-tempo" data-layout="standard" data-action="like" data-show-faces="true" data-share="true"></div>
    
                                <div>
                                    <!-- Twitter -->
                                    <a href="https://twitter.com/share" class="twitter-share-button"{count} data-url="http://vhnam.github.io/blog/not-quite-my-tempo" data-via="vhnam2504">Tweet</a>
    
                                    <!-- Google Plus -->
                                    <div class="g-plusone" data-annotation="inline" data-width="300"></div>
                                </div>
                            </div>
                            <div class="comments">
                                <div class="fb-comments" data-href="http://vhnam.github.io/blog/not-quite-my-tempo" data-numposts="10"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col"></div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6 text-left">
                    He who loves practice without theory is like the sailor who boards [a] ship without a rudder and compass and never knows where he may cast. — Leonardo da Vinci
                </div>
                <div class="col-md-6 text-right">
                    Copyright &copy; 2018 Nam Vo
                </div>
            </div>
        </div>
        <nav class="privacy-policy navbar navbar-dark bg-dark" itemscope="itemscope" itemtype="https://schema.org/SiteNavigationElement">
            <div class="container">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" itemprop="url" href="https://vhnam.github.io/privacy-policy.html">Chính sách bảo mật</a>
                    </li>
                </ul>
            </div>
        </nav>
    </footer>

    <script src="https://vhnam.github.io/public/js/bootstrap.js"></script>

    <script>
        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>

    <script>
        (function() {
            var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
            po.src = 'https://apis.google.com/js/platform.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
    </script>

    <script>
        !function(d,s,id){
            var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';
            if(!d.getElementById(id)){js=d.createElement(s);
                js.id=id;js.src=p+'://platform.twitter.com/widgets.js';
                fjs.parentNode.insertBefore(js,fjs);
            }
        }(document, 'script', 'twitter-wjs');
    </script>

    <!-- Facebook Analytics -->
    <script>
        window.fbAsyncInit = function() {
            FB.init({
                appId      : '2064203853819553',
                xfbml      : true,
                version    : 'v3.0'
            });
            
            FB.AppEvents.logPageView();   
        };

        (function(d, s, id){
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) {return;}
            js = d.createElement(s); js.id = id;
            js.src = "https://connect.facebook.net/en_US/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>

    <!-- Google Analytics -->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-66016963-1', 'auto');
        ga('require', 'linkid', 'linkid.js');
        ga('require', 'displayfeatures');
        ga('send', 'pageview');
    </script>
</body>
</html>
