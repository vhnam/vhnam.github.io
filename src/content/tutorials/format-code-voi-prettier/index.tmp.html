<p>
    Chắc hẳn khi mọi người viết code đều dùng công cụ mặc định hoặc là dùng thư
    viện bên ngoài để format code. Trong đó có lẽ
    <a href="https://prettier.io" itemprop="url">Prettier</a> là các bạn dùng
    nhiều nhất. Bài viết hôm nay, mình sẽ chia sẻ với các bạn cách mình dùng
    Prettier.
</p>
<img alt="Prettier" itemprop="image" src="img/prettier.png"/>
<span class="heading" id="code-formatter-l-g"></span><h2>Code Formatter là gì?</h2>
<p>
    Phần này dành cho những bạn chưa biết, bạn thấy đoạn code dưới đây là code
    gốc.
</p>
<img alt="Before formatting" itemprop="image" src="img/code-before.png"/>
<p>
    Và sau khi chạy, nó sẽ ngay hàng thẳng lối như thế này.
</p>
<img alt="After formatting" itemprop="image" src="img/code-after.png"/>
<span class="heading" id="tch-hp-vi-visual-studio-code"></span><h2>Tích hợp với Visual Studio Code</h2>
<p>
    Mình thường code bằng VSCode. Bình thường các bạn có thể dùng công cụ Format
    Document được tích hợp sẵn bằng cách bấm tổ hợp
    <code>Command + Shift + F</code> (MacOS) hoặc là
    <code>Shift + Alt + F</code> (thế giới còn lại).
</p>
<p>
    Nếu bạn thích dùng Prettier thì bạn cứ vào phần <strong>Extension</strong>,
    gõ <code>Prettier</code> và chọn <strong>Prettier - Code formatter</strong>.
    Sau đó nhấn <strong>Install</strong>.
</p>
<img alt="Prettier in VSCode" itemprop="image" src="img/vsc-prettier.png"/>
<p>
    Trong quá trình sử dụng lần đâu, có thể sẽ xảy ra tranh chấp giữa Formatter
    mặc định và Prettier. Bạn sẽ được hỏi như hình sau đây.
</p>
<img alt="Configuration Prettier" itemprop="image" src="img/vsc-config-formatter.png"/>
<p>
    Sau đó bạn chọn Prettier hay cái khác.
</p>
<img alt="Choose formatter" itemprop="image" src="img/vsc-choose-formatter.png"/>
<p>
    Nếu Visual Studio Code không có hỏi, bạn có thể vào
    <strong>Settings</strong>, gõ <code>Default Formatter</code> và chọn
    <strong>Default Formatter</strong> là <code>ebsenp.prettier-vscode</code>.
</p>
<img alt="Default formatter" itemprop="image" src="img/vsc-default-formatter.png"/>
<span class="heading" id="cu-hnh-cho-tng-project"></span><h2>Cấu hình cho từng project</h2>
<p>
    Nếu bạn không thích dùng một cấu hình của Prettier cho tất cả project. Bạn
    có thể tạo file <code>.prettierrc</code> đặt ở thư mục root của Project. Ví
    dụ rule như vậy.
</p>
<script src="https://gist.github.com/vhnam/73eee9419830c06ece057f89eff8323a.js"></script>
<p>
    Với cách ở trên, bạn chỉ cấu hình cho 1 loại file nhưng sẽ ảnh hưởng loại
    khác. Như đoạn code cấu hình trên là dành cho JavaScript, nhưng HTML cũng bị
    ảnh hưởng theo. Bạn có thể tham khảo ở đây để cấu hình cho 2 loại file khác
    nhau.
</p>
<script src="https://gist.github.com/vhnam/bb51afa55033d474359aecfd082c2296.js"></script>
<span class="heading" id="cu-hnh-pre-commit-hook"></span><h2>Cấu hình Pre-commit Hook</h2>
<p>
    Nếu bạn lười thì có thể trước khi commit, sẽ chạy một lượt bằng cách cấu
    hình pre-commit hook. Bạn có thể tham khảo ở
    <a href="https://prettier.io/docs/en/precommit.html" itemprop="url">đây</a>.
</p>
<p>
    Mình thì theo trường phái xài <code>pretty-quick</code>. Đầu tiên, bạn cài
    package sau.
</p>
<p>
<code>
        yarn add pretty-quick husky --dev
    </code>
</p>
<p>
    Sau đó, bạn config phần hook ở trong file <code>package.json</code> như sau.
</p>
<img alt="Pre-commit Hook" itemprop="image" src="img/pre-commit-hook.png"/>
<span class="heading" id="b-qua-mt-s-file"></span><h2>Bỏ qua một số file</h2>
<p>
    Bạn cứ việc tạo file tên là <code>.prettierignore</code> đặt ở thư mục root
    của project là được. Về mặt cú pháp thì nó tương tự <code>.gitignore</code>
</p>
<script src="https://gist.github.com/vhnam/9a8172b1e3ca06584bb09c18bf131166.js"></script>
<span class="heading" id="tham-kho"></span><h2>Tham khảo</h2>
<ul class="reference">
<li>
        James Quick,
        <a href="https://www.digitalocean.com/community/tutorials/how-to-format-code-with-prettier-in-visual-studio-code#:~:text=To%20open%20the%20command%20palette,and%20then%20choose%20Format%20Document.&amp;text=Then%20choose%20Prettier%20%2D%20Code%20Formatter." itemprop="url">How To Format Code with Prettier in Visual Studio Code</a>
</li>
</ul>
